import { AiOutlineCheck } from '@react-icons/all-files/ai/AiOutlineCheck'
import { AiOutlineCloudServer } from '@react-icons/all-files/ai/AiOutlineCloudServer'
import { AiOutlineDeploymentUnit } from '@react-icons/all-files/ai/AiOutlineDeploymentUnit'
import { AiOutlineDollarCircle } from '@react-icons/all-files/ai/AiOutlineDollarCircle'
import { AiOutlineLink } from '@react-icons/all-files/ai/AiOutlineLink'
import { AiOutlineSafety } from '@react-icons/all-files/ai/AiOutlineSafety'
import { BiUnlink } from '@react-icons/all-files/bi/BiUnlink'
import { BsFillGearFill } from '@react-icons/all-files/bs/BsFillGearFill'
import { BsQuestionCircleFill } from '@react-icons/all-files/bs/BsQuestionCircleFill'
import { BsTerminal } from '@react-icons/all-files/bs/BsTerminal'
import { DiCodeBadge } from '@react-icons/all-files/di/DiCodeBadge'
import { FaCog } from '@react-icons/all-files/fa/FaCog'
import { FaCopy } from '@react-icons/all-files/fa/FaCopy'
import { FaCubes } from '@react-icons/all-files/fa/FaCubes'
import { FaDatabase } from '@react-icons/all-files/fa/FaDatabase'
import { FaGlobe } from '@react-icons/all-files/fa/FaGlobe'
import { FaLock } from '@react-icons/all-files/fa/FaLock'
import { FaLockOpen } from '@react-icons/all-files/fa/FaLockOpen'
import { FaPlus } from '@react-icons/all-files/fa/FaPlus'
import { FaRegCopy } from '@react-icons/all-files/fa/FaRegCopy'
import { FaServer } from '@react-icons/all-files/fa/FaServer'
import { FaSort } from '@react-icons/all-files/fa/FaSort'
import { FaUserCheck } from '@react-icons/all-files/fa/FaUserCheck'
import { FaUserClock } from '@react-icons/all-files/fa/FaUserClock'
import { FaUserTimes } from '@react-icons/all-files/fa/FaUserTimes'
import { FiGitBranch } from '@react-icons/all-files/fi/FiGitBranch'
import { FiLogOut } from '@react-icons/all-files/fi/FiLogOut'
import { FiPlusCircle } from '@react-icons/all-files/fi/FiPlusCircle'
import { FiServer } from '@react-icons/all-files/fi/FiServer'
import { GoGitCommit } from '@react-icons/all-files/go/GoGitCommit'
import { GoKey } from '@react-icons/all-files/go/GoKey'
import { GoPasskeyFill } from '@react-icons/all-files/go/GoPasskeyFill'
import { GoSkip } from '@react-icons/all-files/go/GoSkip'
import { GrClose } from '@react-icons/all-files/gr/GrClose'
import { GrConnect } from '@react-icons/all-files/gr/GrConnect'
import { GrLaunch } from '@react-icons/all-files/gr/GrLaunch'
import { ImTree } from '@react-icons/all-files/im/ImTree'
import { IoMdEye } from '@react-icons/all-files/io/IoMdEye'
import { IoMdEyeOff } from '@react-icons/all-files/io/IoMdEyeOff'
import { LiaNetworkWiredSolid } from '@react-icons/all-files/lia/LiaNetworkWiredSolid'
import { MdAdd } from '@react-icons/all-files/md/MdAdd'
import { MdAlarmOn } from '@react-icons/all-files/md/MdAlarmOn'
import { MdCheckCircle } from '@react-icons/all-files/md/MdCheckCircle'
import { MdDelete } from '@react-icons/all-files/md/MdDelete'
import { MdDevices } from '@react-icons/all-files/md/MdDevices'
import { MdDragHandle } from '@react-icons/all-files/md/MdDragHandle'
import { MdEdit } from '@react-icons/all-files/md/MdEdit'
import { MdError } from '@react-icons/all-files/md/MdError'
import { MdGroup } from '@react-icons/all-files/md/MdGroup'
import { MdInfo } from '@react-icons/all-files/md/MdInfo'
import { MdKeyboardArrowDown } from '@react-icons/all-files/md/MdKeyboardArrowDown'
import { MdKeyboardArrowLeft } from '@react-icons/all-files/md/MdKeyboardArrowLeft'
import { MdKeyboardArrowRight } from '@react-icons/all-files/md/MdKeyboardArrowRight'
import { MdKeyboardArrowUp } from '@react-icons/all-files/md/MdKeyboardArrowUp'
import { MdLens } from '@react-icons/all-files/md/MdLens'
import { MdMoreHoriz } from '@react-icons/all-files/md/MdMoreHoriz'
import { MdOutlineDescription } from '@react-icons/all-files/md/MdOutlineDescription'
import { MdOutlineFolder } from '@react-icons/all-files/md/MdOutlineFolder'
import { MdPending } from '@react-icons/all-files/md/MdPending'
import { MdPersonOutline } from '@react-icons/all-files/md/MdPersonOutline'
import { MdSecurity } from '@react-icons/all-files/md/MdSecurity'
import { MdSettings } from '@react-icons/all-files/md/MdSettings'
import { MdSnooze } from '@react-icons/all-files/md/MdSnooze'
import { MdTimerOff } from '@react-icons/all-files/md/MdTimerOff'
import { MdWarning } from '@react-icons/all-files/md/MdWarning'
import { PiCloudWarningBold } from '@react-icons/all-files/pi/PiCloudWarningBold'
import { PiTagDuotone } from '@react-icons/all-files/pi/PiTagDuotone'
import { PiTreeView } from '@react-icons/all-files/pi/PiTreeView'
import { RiEye2Line } from '@react-icons/all-files/ri/RiEye2Line'
import { RiMapPinLine } from '@react-icons/all-files/ri/RiMapPinLine'
import { RiShieldCheckFill } from '@react-icons/all-files/ri/RiShieldCheckFill'
import { RiTeamLine } from '@react-icons/all-files/ri/RiTeamLine'
import { RxOpenInNewWindow } from '@react-icons/all-files/rx/RxOpenInNewWindow'

import { getImageAssetURLFor } from './utils'
import { CircleBubble } from './CircleBubble'

const bitbucketSVG = getImageAssetURLFor('icons_svgs/bitbucket.svg')
const bitbucketWhiteSVG = getImageAssetURLFor('icons_svgs/bitbucket_white.svg')
const c_sharpSVGsvg = getImageAssetURLFor('icons_svgs/c_sharp.svg')
const dockerSVG = getImageAssetURLFor('icons_svgs/docker.svg')
const dotnetSVG = getImageAssetURLFor('icons_svgs/dotnet.svg')
const githubSVG = getImageAssetURLFor('icons_svgs/github.svg')
const githubWhiteSVG = getImageAssetURLFor('icons_svgs/github_white.svg')
const gitlabSVG = getImageAssetURLFor('icons_svgs/gitlab.svg')
const htmlSVG = getImageAssetURLFor('icons_svgs/html.svg')
const laravelSVG = getImageAssetURLFor('icons_svgs/laravel.svg')
const nodejsSVG = getImageAssetURLFor('icons_svgs/nodejs.svg')
const phpSVG = getImageAssetURLFor('icons_svgs/php.svg')
const pythonSVG = getImageAssetURLFor('icons_svgs/python.svg')
const ubuntuSVG = getImageAssetURLFor('icons_svgs/ubuntu.svg')
const centosSVG = getImageAssetURLFor('icons_svgs/centos.svg')
const awsSVG = getImageAssetURLFor('icons_svgs/aws.svg')
const gcpSVG = getImageAssetURLFor('icons_svgs/gcp.svg')
const azureSVG = getImageAssetURLFor('icons_svgs/azure.svg')
const digitaloceanSVG = getImageAssetURLFor('icons_svgs/digitalocean.svg')
const typeHierarchySubSVG = getImageAssetURLFor(
  'icons_svgs/type-hierarchy-sub.svg'
)
const typeHierarchySuperSVG = getImageAssetURLFor(
  'icons_svgs/type-hierarchy-super.svg'
)
const javaSVG = getImageAssetURLFor('icons_svgs/java.svg')
const rubySVG = getImageAssetURLFor('icons_svgs/ruby.svg')
const MdOutlineShieldLockSVG = getImageAssetURLFor(
  'icons_svgs/outline-shield-lock.svg'
)

const devopnessSymbolSVG = getImageAssetURLFor('logo-symbol-devopness.svg')

const iconList = [
  { type: 'icon', accessor: 'link', component: AiOutlineLink },
  { type: 'icon', accessor: 'unlink', component: BiUnlink },
  { type: 'icon', accessor: 'tag', component: PiTagDuotone },
  { type: 'icon', accessor: 'help', component: BsQuestionCircleFill },
  { type: 'icon', accessor: 'key', component: GoKey },
  { type: 'icon', accessor: 'skip', component: GoSkip },
  { type: 'icon', accessor: 'pending', component: MdPending },
  { type: 'icon', accessor: 'loading', component: CircleBubble },
  { type: 'icon', accessor: 'server', component: FaServer },
  { type: 'icon', accessor: 'self-hosted', component: FaServer },
  { type: 'icon', accessor: 'sortIcon', component: FaSort },
  { type: 'icon', accessor: 'add', component: MdAdd },
  { type: 'icon', accessor: 'plus', component: FaPlus },
  { type: 'icon', accessor: 'downArrow', component: MdKeyboardArrowDown },
  { type: 'icon', accessor: 'upArrow', component: MdKeyboardArrowUp },
  { type: 'icon', accessor: 'leftArrow', component: MdKeyboardArrowLeft },
  { type: 'icon', accessor: 'rightArrow', component: MdKeyboardArrowRight },
  { type: 'icon', accessor: 'config', component: FaCog },
  { type: 'icon', accessor: 'userCheck', component: FaUserCheck },
  { type: 'icon', accessor: 'userClock', component: FaUserClock },
  { type: 'icon', accessor: 'userTimes', component: FaUserTimes },
  { type: 'icon', accessor: 'warningCloud', component: PiCloudWarningBold },
  { type: 'icon', accessor: 'error', component: MdError },
  { type: 'icon', accessor: 'warning', component: MdWarning },
  { type: 'icon', accessor: 'checkCircle', component: MdCheckCircle },
  { type: 'icon', accessor: 'alarmOn', component: MdAlarmOn },
  { type: 'icon', accessor: 'dragHandle', component: MdDragHandle },
  { type: 'icon', accessor: 'delete', component: MdDelete },
  { type: 'icon', accessor: 'edit', component: MdEdit },
  { type: 'icon', accessor: 'lockOpen', component: FaLockOpen },
  { type: 'icon', accessor: 'lock', component: FaLock },
  { type: 'icon', accessor: 'eye2Line', component: RiEye2Line },
  { type: 'icon', accessor: 'cubes', component: FaCubes },
  { type: 'icon', accessor: 'security', component: MdSecurity },
  { type: 'icon', accessor: 'fillGearFill', component: BsFillGearFill },
  { type: 'icon', accessor: 'devices', component: MdDevices },
  { type: 'icon', accessor: 'logout', component: FiLogOut },
  { type: 'icon', accessor: 'codeBadge', component: DiCodeBadge },
  { type: 'icon', accessor: 'logout', component: FiLogOut },
  { type: 'icon', accessor: 'snooze', component: MdSnooze },
  { type: 'icon', accessor: 'timeroff', component: MdTimerOff },
  { type: 'icon', accessor: 'deploy', component: AiOutlineDeploymentUnit },
  { type: 'icon', accessor: 'outlineCheck', component: AiOutlineCheck },
  { type: 'icon', accessor: 'filledCheck', component: RiShieldCheckFill },
  { type: 'icon', accessor: 'settings', component: MdSettings },
  { type: 'icon', accessor: 'branch', component: FiGitBranch },
  { type: 'icon', accessor: 'commit', component: GoGitCommit },
  { type: 'icon', accessor: 'user', component: MdPersonOutline },
  { type: 'icon', accessor: 'copy', component: FaCopy },
  { type: 'icon', accessor: 'outlineCopy', component: FaRegCopy },
  { type: 'icon', accessor: 'lens', component: MdLens },
  { type: 'icon', accessor: 'more', component: MdMoreHoriz },
  { type: 'icon', accessor: 'launch', component: GrLaunch },
  { type: 'icon', accessor: 'connect', component: GrConnect },
  { type: 'icon', accessor: 'cloudServer', component: AiOutlineCloudServer },
  { type: 'icon', accessor: 'gitBranch', component: FiGitBranch },
  { type: 'icon', accessor: 'outlineServer', component: FiServer },
  { type: 'icon', accessor: 'storage', component: FaDatabase },
  { type: 'icon', accessor: 'mapPinLine', component: RiMapPinLine },
  { type: 'icon', accessor: 'outlineSafety', component: AiOutlineSafety },
  { type: 'icon', accessor: 'plusCircle', component: FiPlusCircle },
  { type: 'icon', accessor: 'riTeamLine', component: RiTeamLine },
  {
    type: 'icon',
    accessor: 'aiOutlineDollarCircle',
    component: AiOutlineDollarCircle,
  },
  { type: 'icon', accessor: 'network', component: LiaNetworkWiredSolid },
  { type: 'icon', accessor: 'subnet', component: ImTree },
  { type: 'icon', accessor: 'mdGroup', component: MdGroup },
  { type: 'icon', accessor: 'faGlobe', component: FaGlobe },
  { type: 'icon', accessor: 'openInNewWindow', component: RxOpenInNewWindow },
  { type: 'image', accessor: 'github', component: githubSVG },
  { type: 'image', accessor: 'github_white', component: githubWhiteSVG },
  { type: 'image', accessor: 'gitlab', component: gitlabSVG },
  { type: 'image', accessor: 'bitbucket', component: bitbucketSVG },
  { type: 'image', accessor: 'bitbucket_white', component: bitbucketWhiteSVG },
  { type: 'image', accessor: 'docker', component: dockerSVG },
  { type: 'image', accessor: 'dotnetcore', component: c_sharpSVGsvg },
  { type: 'image', accessor: 'html', component: htmlSVG },
  { type: 'image', accessor: 'nodejs', component: nodejsSVG },
  { type: 'image', accessor: 'php', component: phpSVG },
  { type: 'image', accessor: 'python', component: pythonSVG },
  { type: 'image', accessor: 'aspnetcore', component: dotnetSVG },
  { type: 'image', accessor: 'laravel', component: laravelSVG },
  { type: 'image', accessor: 'ubuntu', component: ubuntuSVG },
  { type: 'image', accessor: 'centos', component: centosSVG },
  { type: 'image', accessor: 'aws', component: awsSVG },
  { type: 'image', accessor: 'azure', component: azureSVG },
  { type: 'image', accessor: 'digitalocean', component: digitaloceanSVG },
  { type: 'image', accessor: 'gcp', component: gcpSVG },
  { type: 'image', accessor: 'parent', component: typeHierarchySubSVG },
  { type: 'image', accessor: 'children', component: typeHierarchySuperSVG },
  { type: 'image', accessor: 'java', component: javaSVG },
  { type: 'image', accessor: 'ruby', component: rubySVG },
  { type: 'image', accessor: 'shieldLock', component: MdOutlineShieldLockSVG },
  { type: 'image', accessor: 'devopness', component: devopnessSymbolSVG },
  { type: 'icon', accessor: 'close', component: GrClose },
  { type: 'icon', accessor: 'eye', component: IoMdEye },
  { type: 'icon', accessor: 'eyeOff', component: IoMdEyeOff },
  { type: 'icon', accessor: 'passkey', component: GoPasskeyFill },
  { type: 'icon', accessor: 'info', component: MdInfo },
  { type: 'icon', accessor: 'description', component: MdOutlineDescription },
  { type: 'icon', accessor: 'terminal', component: BsTerminal },
  { type: 'icon', accessor: 'treeView', component: PiTreeView },
  { type: 'icon', accessor: 'folder', component: MdOutlineFolder },
] as const

/**
 * Lists all valid icon accessors
 */
type Icon = (typeof iconList)[number]['accessor']

/**
 * icon 'loading' uses CircleBubble component, instead of an icon
 * from react-icons, as such, the size prop works differently
 * from the other icons; and bubblespinloader size that works
 * best to visually match the default icon size is 2px.
 *
 * @see {@link https://www.npmjs.com/package/react-css-loaders#bubblespinloader bubblespinloader}
 */
const LOADING_ICON_DEFAULT_SIZE = 2

const ICON_MIN_SIZE = 12

const iconLoader = (
  accessorName?: Icon,
  size = 13,
  color = '',
  opacity = 1,
  label = ''
): JSX.Element => {
  const [
    Icon,
  ] = iconList.filter(({ accessor }) => accessor === accessorName)

  switch (Icon?.type) {
    case 'icon':
      return (
        <Icon.component
          aria-label={label}
          opacity={opacity}
          size={size}
          color={color}
        />
      )
    case 'image':
      return (
        <img
          aria-label={label}
          width={`${Math.max(size, ICON_MIN_SIZE)}px`}
          height={`${Math.max(size, ICON_MIN_SIZE)}px`}
          src={Icon.component}
        />
      )
    default:
      return (
        <img
          aria-label={label}
          width={`${Math.max(size, ICON_MIN_SIZE)}px`}
          height={`${Math.max(size, ICON_MIN_SIZE)}px`}
          src={getImageAssetURLFor(`icons_svgs/${accessorName}.svg`)}
        />
      )
  }
}

export type { Icon }
export { iconLoader, LOADING_ICON_DEFAULT_SIZE }
